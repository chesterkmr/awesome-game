(this["webpackJsonpcanvas-pg"]=this["webpackJsonpcanvas-pg"]||[]).push([[0],{10:function(e,n,t){},11:function(e,n,t){},12:function(e,n,t){"use strict";t.r(n);var a=t(1),A=t(0),o=t.n(A),r=t(4),i=t.n(r),c=(t(10),t(2));t.p,t(11);var d=function(){var e=A.useRef();return A.useCallback((function(){}),[]),A.useEffect((function(){if(e.current){e.current;var n=e.current.getContext("2d"),t={87:"up",83:"down",65:"left",68:"right",69:"shoot"},a={up:!1,down:!1,left:!1,right:!1,shoot:!1};n.fillStyle="#fff";var A=new Image;A.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAZElEQVQ4T7WTOw4AIAhDy+D9D+yAYcBgYsUEZSTlWT4KiiHFetwAFOC6DGDFFlR3Aqj2DmnNu9xqvzrwl5/MIM5hAe5a8MGdNjzrGCDmn7ewOLvZgmmoi6+AeIX0IjMH6V8rAwa8JRQRKIVX1QAAAABJRU5ErkJgggAA";var o=new Image;o.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAICAYAAAAx8TU7AAAALUlEQVQYV2NkwAIYYWLPOTj+S/74AebDBP8jaWCkhqCdCS/czENnPsPNRHEYAOdZDAnkNXEgAAAAAElFTkSuQmCC";var r=new Image;r.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAaCAYAAABYQRdDAAAAo0lEQVRIS+2UzQ3AIAhG9eYK7j+cK3Cz0aixyo82pelBbxp4Ah9gjcKxCkxDQoNzUfrQA6D+30M9ABlscM78J9K3aiqKw3zU9OmFqsD6FlPdqFPq3WyLXb6jj8VgB5pcWlA9dGyvXWgFW26inkBzkgdKdo1OTaWJojSR9ik3YaTvKpSbvCmhA2U1HjfXbXFQnlhNMcUxoXrmjSMJtdCqs4kK9AJjK0wbwFdNJwAAAABJRU5ErkJgggAA";var i=0,d=242,f=242;n.drawImage(A,d,f,16,16);var s=[],u=[],l=0,w=0;window.addEventListener("mousedown",(function(e){1===e.which&&(a.shoot=!0)})),window.addEventListener("mouseup",(function(e){1===e.which&&(a.shoot=!1)})),window.addEventListener("keydown",(function(e){a[t[e.keyCode]]=!0}),!1),window.addEventListener("keyup",(function(e){a[t[e.keyCode]]=!1}),!1),window.requestAnimationFrame((function e(t){n.clearRect(0,0,500,500),a.up&&(f-=5),a.down&&(f+=5),a.left&&(d-=5),a.right&&(d+=5),f<0&&(f=8),f>500&&(f=492),d<0&&(d=500),d>500&&(d=0),n.drawImage(A,d,f,16,16),function(){if(a.shoot){a.shoot=!1;var e={x:d,y:f};u.unshift(e)}u=u.filter((function(e){return!e.wasted}));var t,A=Object(c.a)(u);try{for(A.s();!(t=A.n()).done;){var r=t.value;r.y=r.y-5,n.drawImage(o,r.x,r.y,5,8)}}catch(i){A.e(i)}finally{A.f()}}(),function(){var e,n=Object(c.a)(u);try{var t=function(){var n=e.value,t=s.find((function(e){var t=Math.abs(e.x-n.x),a=Math.abs(e.y-n.y);return t<=20&&a<=20}));t&&(t.dead=!0,n.wasted=!0,i+=1)};for(n.s();!(e=n.n()).done;)t()}catch(a){n.e(a)}finally{n.f()}}(),function(){if(s.length&&Date.now()-w>=200){var e,n=Object(c.a)(s);try{for(n.s();!(e=n.n()).done;){var t=e.value;t.dead||(t.y+=5,w=Date.now())}}catch(a){n.e(a)}finally{n.f()}s=s.filter((function(e){return!e.dead}))}}(),function(){var e,t=Object(c.a)(s);try{for(t.s();!(e=t.n()).done;){var a=e.value;n.drawImage(r,a.x,a.y,21,26)}}catch(A){t.e(A)}finally{t.f()}}(),Date.now()-l>=1e3&&(!function(){if(!(s.length>=5)){var e=Math.round(488*Math.random());s.push({y:0,x:e,dead:!1})}}(),l=Date.now()),n.font="24px serif",n.fillStyle="red",n.fillText("Score ".concat(i),10,30),window.requestAnimationFrame(e)}))}}),[e]),Object(a.jsx)("div",{className:"App",children:Object(a.jsx)("canvas",{width:"500",height:"500",ref:e,style:{border:"1px solid skyblue"}})})},f=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,13)).then((function(n){var t=n.getCLS,a=n.getFID,A=n.getFCP,o=n.getLCP,r=n.getTTFB;t(e),a(e),A(e),o(e),r(e)}))};i.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(d,{})}),document.getElementById("root")),f()}},[[12,1,2]]]);
//# sourceMappingURL=main.3f78ab5d.chunk.js.map